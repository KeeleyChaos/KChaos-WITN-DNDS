<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Canvas</title>
<style>
  canvas {
    border: 1px solid black;
    touch-action: none; /* Prevent the browser's default touch actions */
  }
</style>
</head>
<body>

<canvas id="canvas" width="800" height="600"></canvas>
<select id="shape">
  <option value="rectangle">Rectangle</option>
  <option value="triangle">Triangle</option>
  <option value="oval">Oval</option>
</select>
<button onclick="createShape()">Create Object</button>
<br>
X Scale: <input type="text" id="xScale" value="1">
Y Scale: <input type="text" id="yScale" value="1">
<br>
X Coordinate: <input type="text" id="xCoord">
Y Coordinate: <input type="text" id="yCoord">
<br>

<script>
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  var shapes = [];
  var selectedShape = null;

  function setEventListeners() {
    canvas.addEventListener('mousedown', startDrag);
    canvas.addEventListener('mousemove', drag);
    canvas.addEventListener('mouseup', endDrag);
    canvas.addEventListener('mouseleave', endDrag);

    // Touch events for mobile devices
    canvas.addEventListener('touchstart', function(e) {
      e.preventDefault();
      startDrag(e.touches[0]);
    }, false);

    canvas.addEventListener('touchmove', function(e) {
      e.preventDefault();
      drag(e.touches[0]);
    }, false);

    canvas.addEventListener('touchend', endDrag, false);
    canvas.addEventListener('touchcancel', endDrag, false);
  }

  function startDrag(e) {
    var rect = canvas.getBoundingClientRect();
    var x = e.clientX - rect.left;
    var y = e.clientY - rect.top;
    shapes.forEach(function(shape) {
      if (ctx.isPointInPath(shape.path, x, y)) {
        selectedShape = shape;
      }
    });
  }

  function drag(e) {
    if (selectedShape) {
      var rect = canvas.getBoundingClientRect();
      var x = e.clientX - rect.left;
      var y = e.clientY - rect.top;
      selectedShape.x = x;
      selectedShape.y = y;
      drawShapes();
    }
  }

  function endDrag(e) {
    selectedShape = null;
  }

  function createShape() {
    var shapeType = document.getElementById('shape').value;
    var x = parseFloat(document.getElementById('xCoord').value);
    var y = parseFloat(document.getElementById('yCoord').value);
    var xScale = parseFloat(document.getElementById('xScale').value);
    var yScale = parseFloat(document.getElementById('yScale').value);
    var path = new Path2D();
    if (shapeType === 'rectangle') {
      path.rect(x, y, 100 * xScale, 50 * yScale);
    } else if (shapeType === 'triangle') {
      path.moveTo(x, y);
      path.lineTo(x + 50 * xScale, y + 100 * yScale);
      path.lineTo(x - 50 * xScale, y + 100 * yScale);
      path.closePath();
    } else if (shapeType === 'oval') {
      path.ellipse(x, y, 50 * xScale, 25 * yScale, 0, 0, 2 * Math.PI);
    }
    shapes.push({type: shapeType, x: x, y: y, path: path});
    drawShapes();
  }

  function drawShapes() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    shapes.forEach(function(shape) {
      ctx.fillStyle = 'white'; // Set the fill color to white
      ctx.strokeStyle = 'black'; // Set the stroke color to black
      ctx.fill(shape.path);
      ctx.stroke(shape.path); // Add the black outline
    });
  }

  setEventListeners();
</script>

</body>
</html>
